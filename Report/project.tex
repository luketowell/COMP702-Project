\documentclass[a4paper,11pt]{report}
\usepackage{cite}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{appendix}
\usepackage{chngcntr}
\usepackage{caption}

\counterwithout{figure}{chapter}

%%%%  Add some length to the page, as margins always seem too big.  
\addtolength{\topmargin}{-.5in}

\begin{document}

%%%%  Number the initial front matter with roman numerals
\pagenumbering{roman}


%%%%  TITLE PAGE
%%  Here are the elements that make up the title page of the document.  

\thispagestyle{empty}

\title{\LARGE
ASDA Stocking Support System (Xpire)}

\author{
Luke Michael Towell
\\    \\    \\
Synopsis and Design
\\    \\
Submitted to 
\\    \\    \\ 
The University of Liverpool
\\    \\
\\    \\
in partial fulfilment of the requirements
\\
for the degree of 
\\     \\
MASTER OF SCIENCE
\\     \\    \\    \\
}


%%  Fill in a date here if you want, or comment out the line below and
%%  the current date will be automatically inserted for you.  
\date{}


\maketitle


%%%%  ABSTRACT
\chapter*{\center Abstract}

The aim of the project is to create an application which enables ASDA colleagues to identify
and inform colleagues of which items within their fresh departments are going out of date and
need to be marked down or could potentially be provided to food shelters. The technology that
will be utilised in this project will make use of mobile technology, backend web services and 
Database stored procedures in order to analyse and inform colleagues which items are likely to go 
out of date on which date and then informs colleagues to go and reduce the products. This application
will be used throughout ASDA stores by colleagues on a daily basis and could produce a significant
cost saving and waste reduction.
\\
\\
The final products of this project will be a system of applications which will be ready for deployment
into an ASDA store in the future. The requirements and periodic demoing of the produced solution will
be provided by ASDA technology colleagues.

\newpage



%%%%  STUDENT DECLARATION ON PLAGIARISM
\chapter*{\center Student Declaration} 

I confirm that I have read and understood the University's Academic Integrity Policy.

I confirm that I have acted honestly, ethically and professionally in conduct leading
to assessment for the programme of study.  

I confirm that I have not copied material from another source nor committed plagiarism
nor fabricated data when completing the attached piece of work.  I confirm that I have 
not previously presented the work or part thereof for assessment for another University
of Liverpool module.  I confirm that I have not copied material from another source, nor
colluded with any other student in the preparation and production of this work.  

I confirm that I have not incorporated into this assignment material that has been 
submitted by me or any other person in support of a successful application for a 
degree of this or any other university or degree-awarding body.  

\vspace*{1in}

\noindent SIGNATURE \verb!______________________________________!

\noindent DATE \hspace*{.4in}  \today

\vspace*{1in}

%%  NOTE ABOUT CONFIDENTIAL MATERIAL  
%%     Students who need to keep their dissertation confidential should uncomment
%%     the following sentence on this same page.  This will preclude the dissertation 
%%     from being placed in the University Library.  Students that submit work that 
%%     isn't confidential should leave this line commented out.  

% This dissertation contains material that is confidential and/or commercially
% sensitive. It is included here on the understanding that this will not be revealed to 
% any person not involved in the assessment process.  


\newpage

%%%%  ACKNOWLEDGMENTS
%%%%    A section for Acknowledgments, should you want one.



\newpage


%%%%  TABLE OF CONTENTS  
%%%%      Usually the following command will give you the formatting you want.  

\tableofcontents


%%%%  Turn page numbering back to arabic.  This also resets the numbering
%%%%  to begin again at page 1.  

\pagenumbering{arabic}

%%%%  INTRODUCTION

\chapter{Project Introduction}\label{chap:intro}

\section{Scope}

\subsection{ASDA}
ASDA is one of the four largest supermarkets in the UK stocking a variety of goods including fresh,
frozen and ambient food goods, non perishable items such as clothes and home products and various
other lines of stock. 
\\
\\
ASDA as one of the main supermarkets in the UK has stood up and accepted its responsibility
which is why they regularly publish information on how customers can live more sustainably \cite{asda-sustainable-living} 
by reducing their own dependence on plastics or by wasting food\cite{asda-wastewar}. In 2018 data gathered and published by
ASDA indicated that approximately 31,883 Tonnes of food was wasted in the ASDA supply chain \cite{asda-food-waste-data}.
Some of this food has been given to charity and recycled however there is still a desire by ASDA to improve their wastage.
In 2018 ASDA improved wastage by giving away approximately 2.7 million meals and increasing their food donations by 26 \%.\cite{asda-food-waste-data}
\\
\\
This project is being completed on behalf of ASDA with the hope that 
the application produced will enable ASDA to continue to 
innovate and be more sustainable. This can be achieved by reducing the food wastage within their stores by
contributing more to charity, reducing the amount that is ordered into stores and by 
having a better grip on items that are about to go out of date so that they can be 
promptly reduced for our customers.
\\
\\
The main focus of this project will be on the management of fresh stock which
has a recent expiry date e.g. fresh fruit and vegetables and chilled meats and dairy goods. 
This focus has been identified by looking at food wastage data and identifying that 26\% of
food waste is fresh food, 16 \% is chilled and a further 16\% is dairy produce\cite{asda-food-waste-data}.
\\
\\
As well as being one of the main supermarkets in the UK, ASDA is also part of the US company Wal-Mart 
which is at the time of writing listed as the largest company in the world. This affords ASDA some 
benefits with regards to technology via the use of shared technologies across the globe.
\\
\\
Despite this project being completed on behalf of ASDA the applications and software that will be produced at the end of it will
be suitable for use by any business which deals with products that have an expiration date or use by date.

\subsection{Problem Statement}\label{sec:problem}

The aim of this project is to design an application and stock management system which is able
to inform store managers and store colleagues on which items of stock are going out of date or
close to going out of date on the shop floor. This stock will then either be marked 
down on the shop floor in order to be sold on the day or will be identified as able to be donated to other charitable
causes within the local community as part of the ASDA commitment to engage and assist in the local community.
\\
\\
The key goals of the developed system are to include:
\\
- An application which will direct colleagues to which items need to be marked down.
\\
- The hours spent in store manually marking down products will be reduced.
\\
- Stock which is wasted will be reduced and identified for redistribution.
\\
\\
These goals will be assessed by peer review of colleagues in ASDA. I am also aiming to 
deploy the application in a live ASDA store with the aim of it being used in a live environment.
If I am able to deploy a POC into a live store then I will also assess the success of the 
application by comparing the product waste prior to usage in store against the wastage from 
the time that the application is used in store. 

\subsection{Potential Expansion}
\subsubsection{Timesheeting}
Through the use of data mining from the data collected by the application, we should be able to accurately predict
how long it takes staff to organise and mark down the expiring items within their respective departments. Once 
this data has been collected then theoretically it could be used in order to calculate how many staff are needed 
in order to mark down items on a particular day depending on the number of items that need to be reduced as well 
as the length of time that it is likely to take the staff in order to mark down or redistribute the expiring stock
on the shop floor. 

\subsubsection{Stock Prediction and Inventory Management}

By analysing the number of items which are expiring in individual stores we should also be able to perform trend 
analysis on the data which should highlight items of stock which are repeatedly marked down. This trend analysis 
could then be used to inform store managers and the ASDA inventory management systems of any over ordering which is 
occuring and allow for more accurate stock levels to reduce potential waste in the future.

\section{Approach}

\subsection{Project Methodology}
The methodology that I have chosen to implement this project in is a scrum agile methodology which involves short 
iterations of development spread over the 8 weeks I will be developing my solution in. 
This will include the breaking down of the application development into smaller development tasks which can be completed easily. 
\\
\\
Scrum involves the sizing, estimation and development of the development tasks prior to development. Once completed
the developed features will be demoed to the project supervisors and stakeholders in order to gain feedback which 
can potentially be added to the project backlog and acted on in following sprints.
\\
The project will include the management and development of multiple application features. Each of the features will 
be detailed and documented on a kanban board (See Figure~\ref{fig:kanbanBoard}) which will be managed via the Trello 
application.  As can be seen in Figure 1 the kanban board is broken down into "To Do", "Doing" and "Done" swim lanes 
which allows the user to easily identify the state of the feature that is being developed.
\begin{figure}
    \includegraphics[width=\linewidth]{./assets/images/Kanban-board.png}
    \caption{Xpire Kanban Board}
    \label{fig:kanbanBoard}
\end{figure}

Scrum typically consists of 5 different types of meetings: the stand up, the planning, the Retro and the refinement 
session. All of these sessions are performed once throughout the sprint in order to plan, agree and highlight any 
issues that the development team might be having throughout the week.

%%%%  BACKGROUND

\section{Review of previous works}

At the moment sustainability and environmental responsibility are very prevelant in our day
to day lives. This ranges from the recycling which is carried out by all councils across
england to the protests and activism that takes place all across the UK by groups such 
as The Extinction Rebellion. There are regularly discussions in the media about the impact
that society and our daily habits are having on the world that we live in and what we need
to do to attempt to repair and improve our environmental impact. Wrap (Waste \& Resources Action Programme) \cite{wrapvision}
is a charity which is focused on raising public awareness of the various types of waste throughout the UK
in order to improve the use of resources in a more efficient way and to develop more sustainable products.
One of the focuses of WRAP is the food industry, WRAP highlights that approximately one third of global food
is wasted which equates to an economic loss of approximately \$984 billion globally and above Â£19 billion in the UK alone \cite{wrap-food-drink}.
\\
\\
It is largely accepted that we all have a part to play in assisting and improving the environment
of the planet and this is especially true for large corporations and businesses. 
\\
\\
ASDA has also focused on various schemes to be a more environmentally conscious retailer. 
These can include working with FareShare \cite{asda-food-waste} or reducing their plastics. 
\\ 
\\  
As part of the further research into the previous work others have done that is similar to my project 
I have looked for potentially similar applications which offer similar functionality to users. 
Below is an outline of the applications and a comparison against the functionality that they
offer against what my app will capable of.

\subsubsection{Too Good To Go}
Too Good To Go is an application which users are able to install on their devices.
The app displays to the user businesses which are offering their surplus food for a reduced price.
The user simply has to visit the business which is selling its reduced stock in the form of a "Magic Bag" \cite{too-good-to-go}.
\\
\\
When looking at Too Good To Go there are certainly similarities to the application that I am going to 
produce with regards to the aim of reducing waste however the main difference is that Too Good To Go 
has a focus on being the central hub for retailers to advertise their reduced produce where as the application
 I intend to produce will highlight to the user which items are going out of date. 

\subsubsection {Totalctrl}
TotalCtl is an application focused on inventory management and identifying when items are going to go out of
date which then allows the retailer, restaurant, cafe or other business to either dispose or reduce their products.
TotalCtl enables management via dashboards, graphing and alerting and is very similar application to what I am to produce\cite{totalctrl}.
\\
\\
The main difference I have identified between totalctl and my proposed solution
is that total control requires the user to upload invoices from suppliers when
items are delivered so that it can maintain its record keeping. My application 
on the other hand will make use of internal ASDA data stores, these are automatically
updated and will also enable the store to monitor stock without colleagues having to
manually enter invoices into the system.
\\
\\
Obviously the other key difference between my application and the applications discussed previously
is that my application will only deal with identifying waste that is going to go out of date within ASDA stores.
Once the stock is identified then it will be up to the colleague to decide what is done with that store following ASDA policy.
\\
\\
The main benefit of my application is that it is built bespoke for ASDA architecture and makes
use of current systems and architecture ensuring that from the beginning the application will 
work inside the ASDA ecosystem without the need for any extra development costs to make use of
a third party application. 


%%%%  DESIGN

\chapter{Design}\label{chap:design}
This chapter covers the planned design of the Xpire system. At the moment all of the plans
for the application are theoretical and could potentially change however I believe that
this is a sensible approach which should be suitable for the proposed system.

\section{Architectural Diagram}

\begin{figure}[h!]
    \includegraphics[width=\linewidth]{./assets/images/architecture_diagram.png}
    \caption{Xpire Architecture Diagram}
    \label{fig:architecture-diagram}
\end{figure}

As shown in the architecture diagram (Fig.~\ref{fig:architecture-diagram})
- The Application will be usable via 3 methods:
\\
\\
- An android application which is available on in store handsets called TC70, TC70X or TC72. These devices are available to all colleagues who work within ASDA stores and are frequently used for other applications within the store ecosystem.
\\
\\
- An android and iOS application which will be downloadable and usable from store colleagues personal devices via an internal application management system.
\\
\\
- A web browser which is accessible from a managers workbench or a colleague laptop. This will give colleagues an alternative view of the application due to the fact that the application is not being accessed via a mobile device.

\subsection{Application Breakdown}
As shown in the architectural diagram in Figure~\ref{fig:architecture-diagram} the application will consist of three separate applications and two databases.
 Below are the descriptions and breakdowns of the applications:

\subsubsection{Mobile Application}
The mobile versions of the application will be written using React-Native which is a modern mobile development
 framework created and maintained by Facebook. The reason for choosing React Native is because it is a well known and well documented framework with a large and active user community. It is also the recommended mobile development framework for ASDA and Wal-Mart. 

\subsubsection{Web Application}
The web application will be written using React which is very similar to React-native and has also been widely adopted. There are plenty of libraries for React and it is the chosen development framework because I am already familiar with the React ecosystem. 

\subsubsection{Backend Web Services}
The web services of the system are going to be developed using Java Spring Boot which ensures that the services will be enterprise worthy. The services will be hosted within a docker image and will be able to be span up on either Azure application servers or Azure Kubernetes clusters. The web services will be written using the repository design pattern\cite{gamma1994design} for interacting with the databases. All services will be thoroughly unit tested. The web services will be documented using Swagger so that users and future developers are easily able to pick up and alter the code base. 

\subsubsection{Azure SQL Databases}
SQL data which will be encrypted in transit and at rest manually. This database will contain the item data which is discussed in Chapter~\ref{chap:data} below. At the moment I am unsure as to if I will store images of the individual items within BLOB storage. If I do decide to store item images then the SQL database will also store the references to the relevant item images.

\subsubsection{Azure Cosmos Database}
I have chosen to use Azure Cosmos DB for logging data due to the speed that items can be both written and retrieved from the data stores. Azure Cosmos DB is the Azure non relational database offering with encryption both in transit and at rest.

\subsubsection{Authentication \& Authorisation}
SingleSignOn is the authentication method which I have chosen to adopt for all of my applications. This allows the applications to integrate well within the ASDA technology stack and ensures that colleagues will be able to authenticate with their normal credentials. This removes the need for colleagues to need to remember new credentials or to have to have other accounts created in order to use the Xpire application. 

\subsection{Interaction Chart}
The Interaction Chart (see Fig~\ref{fig:eventTrace}) below highlights how a user interacts with the planned application. Figure ~\ref{fig:eventTrace} details the processes that are involved in one simple use case of the application in order to complete the scanning and checking of product details and expiry dates with a mobile device.
The event trace details how a colleague will scan the barcode of an item  in order to query the DB for item information and expiration date. Using the information provided the employee will then be able to reduce the item on the shop floor.

\begin{figure}[ht]
    \centering
    \includegraphics[scale=0.7]{./assets/images/eventTrace-itemscan.png}
    \caption{Mobile Event Trace}
    \label{fig:eventTrace}
\end{figure}

\chapter{Data}\label{chap:data}
\section{Data used in the system}
The data used in the system will be item based information which will include a unique identifier
for an item, the expiry date / use by date of the item, the product name, the producer of the item, 
the store quantity of an item and an image of the item. 
All of this data will be available from internal ASDA databases. 
\\
\\
Other data which the application will make use of are the request details of requests 
within the system. This data is collected for the purpose of troubleshooting and monitoring
and alerting of potential issues within the application. The data will include, Request Type,
Request Content, Timestamp, Response Content, Response Information and Request Origin.
   
   
\section{Ethical Use of Data}
The data that is gathered in my application is not human related data.
The application only deals with the gathering of information on items and stores.
No user identifiable data is used therefore I have agreed with my supervisor that
there is no need to need to complete the Ethical Approval Form.
\\
\\
The only human data that will be used within this project is the feedback and opinions
of employees for ASDA which will be used in order to assess wether the goals of the 
project have been met. The consent of those whose feedback I will be using will be 
collected as and when it is required and Each individual will complete a consent form
prior to their opinions being included in the final report.

\chapter{Plan}\label{chap:plan}
The main milestones of my project are outlined in the Gannt Chart in Appendix~\ref{app:ganntchart}. 

The main milestones identified are: 
\subsubsection{Research}
I have so far completed this section of the priject which involved research into the background of my project as well as looking into previous solutions that have been developed which offer similar functionality to the system I intend to produce.
\subsubsection{Synopsis}
This section will be complete with the production of this document which details what the project aims are and an initial plan of how I will complete my aims.
\subsubsection{Design}
The design phase of the project is going to focus on the production of user interfaces for the various applications within the system.
\subsubsection{Development Sprints}
The development section is the longest continuous section of the project which I plan on splitting into eight, one week iterations which will include planning, development and demoing of individual features. This has been dicussed further in chapter~\ref{chap:intro}.
\subsubsection{Testing}
As part of the agile methodology I will be testing my code as I write it in each iteration.
\subsubsection{Demo / Deployment}
I have included a main milestone which is the final demo of the complete working system to the project stakeholders in order to gain final feedback which will be used to assess wether the project has completed its main aims. 
\subsubsection{Write up}
The write up of the project documentation is the longest individual section of my project as I aim to write up the documentation as I work through the project. 
\subsubsection{Dissertation proof read and finalisation}
The final stage of the project includes the proof reading of my final report and final adjustments prior to submission.
%%%%   REFERENCES

%%%%  Section for references, using the \bibitem directive to 
%%%%  specify labels used to cite sources in the document.  
\newpage
\addcontentsline{toc}{chapter}{Appendices}
\begin{appendix}
\chapter{Xpire Project Gannt Chart}\label{app:ganntchart}
\begin{figure}[ht]
    \centering
    \includegraphics[scale=1.0]{./assets/images/gannt1.png}
    {\caption*{Xpire Project Gannt Chart June - July}}
\end{figure}
\begin{figure}[ht]
    \centering
    \includegraphics[scale=1.0]{./assets/images/gannt2.png}
    {\caption*{Xpire Project Gannt Chart August - September}}
\end{figure}
\end{appendix}

\bibliography{bibliography}
\bibliographystyle{plain}

%%%%   APPENDICES


\end{document}
